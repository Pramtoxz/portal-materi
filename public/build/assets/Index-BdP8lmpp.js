import{K as N,r as l,j as e,L as A,S as p}from"./app-CCkF9FoQ.js";import{A as C}from"./app-layout-BHi_FK1p.js";import{B as o}from"./createLucideIcon-DV0xQs6u.js";import x from"./DialogForm-Bdqr1FLK.js";import{u as w,A as M,a as T,b as y,c as B,d as E,e as K,f as O,g as P,D as _,T as z,S as G,h as H}from"./toaster-C9UaY0kI.js";import{B as I}from"./badge-B_DhtJsj.js";import"./index-Ds1693mS.js";import"./index-BNeOYRYq.js";import"./index-C-3vwWGZ.js";import"./index-CFppbqNH.js";import"./dropdown-menu-CA2YAHIs.js";import"./jayanusa-DK0lkaAg.js";import"./user-PrsehCyL.js";import"./book-open-CcxD4pDw.js";import"./file-text-BSqGqvEm.js";import"./chevron-right-Vz-vBjvP.js";import"./input-BBQQ4BHA.js";import"./label-DuFGpGzt.js";import"./select-CQ8z-zBW.js";import"./index-BdQq_4o_.js";import"./dialog-PGUFdvFY.js";import"./calendar-DjtPw3Gk.js";function ce(){const{matakuliah:a,flash:t}=N().props,[g,c]=l.useState(!1),[m,d]=l.useState(null),[j,k]=l.useState(a!=null&&a.current_page?a.current_page-1:0),[f,n]=l.useState(!1),[h,u]=l.useState(null),{toast:i}=w();l.useEffect(()=>{t!=null&&t.success?i({title:"Berhasil!",description:t.success,variant:"success"}):t!=null&&t.error&&i({title:"Error!",description:t.error,variant:"destructive"})},[t,i]);const D=s=>{u(s),n(!0)},b=()=>{h&&p.delete(route("matakuliah.destroy",h),{onSuccess:()=>{i({title:"Berhasil!",description:"Matakuliah berhasil dihapus",variant:"success"})},onError:()=>{i({title:"Error!",description:"Gagal menghapus matakuliah",variant:"destructive"})}}),n(!1),u(null)},v=s=>{k(s),p.get(route("matakuliah.index"),{page:s+1},{preserveState:!0})},S=[{accessorKey:"kodematakuliah",header:"Kode"},{accessorKey:"namamatakuliah",header:"Nama Matakuliah"},{accessorKey:"sks",header:"SKS"},{accessorKey:"semester",header:"Semester",cell:({row:s})=>{const r=s.original.semester;return e.jsx(I,{variant:r==="Ganjil"?"default":"secondary",className:r==="Ganjil"?"bg-blue-500 hover:bg-blue-600":"bg-green-500 hover:bg-green-600",children:r})}},{id:"actions",cell:({row:s})=>{const r=s.original;return e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>d(r),className:"h-8 px-2 text-xs sm:text-sm sm:px-3",children:[e.jsx(G,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden xs:inline",children:"Edit"})]}),e.jsxs(o,{size:"sm",variant:"destructive",onClick:()=>D(r.kodematakuliah),className:"h-8 px-2 text-xs sm:text-sm sm:px-3",children:[e.jsx(H,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden xs:inline",children:"Hapus"})]})]})}}];return e.jsxs(C,{children:[e.jsx(A,{title:"Daftar Matakuliah"}),e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Daftar Matakuliah"}),e.jsx(o,{onClick:()=>c(!0),className:"w-full sm:w-auto",children:"Tambah Matakuliah"})]}),e.jsx(x,{open:g,onOpenChange:c,matakuliah:null,onSuccess:()=>{i({title:"Berhasil!",description:"Matakuliah berhasil ditambahkan",variant:"success"})}}),e.jsx(x,{open:!!m,onOpenChange:s=>!s&&d(null),matakuliah:m,onSuccess:()=>{i({title:"Berhasil!",description:"Matakuliah berhasil diperbarui",variant:"success"})}}),e.jsx(M,{open:f,onOpenChange:n,children:e.jsxs(T,{children:[e.jsxs(y,{children:[e.jsx(B,{children:"Konfirmasi Penghapusan"}),e.jsx(E,{children:"Apakah Anda yakin ingin menghapus matakuliah ini? Tindakan ini tidak dapat dibatalkan."})]}),e.jsxs(K,{children:[e.jsx(O,{children:"Batal"}),e.jsx(P,{onClick:b,className:"bg-red-500 hover:bg-red-600",children:"Hapus"})]})]})}),e.jsx("div",{className:"overflow-x-auto -mx-3 sm:mx-0",children:e.jsx("div",{className:"w-full",children:e.jsx(_,{columns:S,data:(a==null?void 0:a.data)||[],pagination:{pageCount:(a==null?void 0:a.last_page)||0,pageIndex:j,pageSize:(a==null?void 0:a.per_page)||10},onPageChange:v,searchable:!0,searchColumn:"namamatakuliah"})})}),e.jsx(z,{})]})]})}export{ce as default};
