import{m as M,r as p,j as e,L as C}from"./app-CCkF9FoQ.js";import{c as g,a as c,B as k}from"./createLucideIcon-DV0xQs6u.js";import{I as x}from"./input-BBQQ4BHA.js";import{L as o}from"./label-DuFGpGzt.js";import{S as D,a as S,b as B,c as F,d as j}from"./select-CQ8z-zBW.js";import{D as I,a as T,b as E,c as H,d as L}from"./dialog-PGUFdvFY.js";import{B as f}from"./book-open-CcxD4pDw.js";import{C as V}from"./calendar-DjtPw3Gk.js";import"./index-BNeOYRYq.js";import"./index-BdQq_4o_.js";import"./index-Ds1693mS.js";import"./index-C-3vwWGZ.js";import"./index-CFppbqNH.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]],G=g("BookText",z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],_=g("Clock",K);function ee({open:N,onOpenChange:n,matakuliah:s=null,onSuccess:t}){const{data:m,setData:r,post:b,put:v,processing:h,errors:l,reset:i}=M({kodematakuliah:"",namamatakuliah:"",sks:"",semester:""}),[y,d]=p.useState(2);p.useEffect(()=>{var a;s?(r({kodematakuliah:s.kodematakuliah||"",namamatakuliah:s.namamatakuliah||"",sks:((a=s.sks)==null?void 0:a.toString())||"",semester:s.semester||""}),d(s.sks||2)):(i("kodematakuliah","namamatakuliah","sks","semester"),d(2))},[s,r,i]);const w=a=>{a.preventDefault(),s?v(route("matakuliah.update",s.kodematakuliah),{onSuccess:()=>{n(!1),i(),t==null||t()}}):b(route("matakuliah.store"),{onSuccess:()=>{n(!1),i(),t==null||t()}})};return e.jsx(I,{open:N,onOpenChange:a=>{n(a),a||i()},children:e.jsxs(T,{className:"sm:max-w-[500px]",children:[e.jsx(C,{title:s?"Edit Matakuliah":"Tambah Matakuliah"}),e.jsxs(E,{className:"pb-4 border-b",children:[e.jsxs(H,{className:"flex items-center gap-2 text-xl font-semibold",children:[e.jsx(f,{className:"h-5 w-5 text-primary"}),s?"Edit Matakuliah":"Tambah Matakuliah Baru"]}),e.jsx(L,{className:"text-muted-foreground mt-1",children:s?"Perbarui informasi matakuliah yang sudah ada":"Isi formulir untuk menambahkan matakuliah baru ke sistem"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-5 pt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"kodematakuliah",className:"flex items-center gap-1.5",children:[e.jsx(G,{className:"h-4 w-4"}),"Kode Matakuliah"]}),e.jsx(x,{id:"kodematakuliah",type:"text",value:m.kodematakuliah,onChange:a=>r("kodematakuliah",a.target.value),disabled:!!s,placeholder:"Contoh: MK001",className:c("transition-all focus-visible:ring-primary",l.kodematakuliah?"border-red-500 focus-visible:ring-red-500":"")}),l.kodematakuliah&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-red-500"}),l.kodematakuliah]}),!l.kodematakuliah&&e.jsx("p",{className:"text-muted-foreground text-xs",children:"Kode unik untuk identifikasi matakuliah"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"namamatakuliah",className:"flex items-center gap-1.5",children:[e.jsx(f,{className:"h-4 w-4"}),"Nama Matakuliah"]}),e.jsx(x,{id:"namamatakuliah",type:"text",value:m.namamatakuliah,onChange:a=>r("namamatakuliah",a.target.value),placeholder:"Masukkan nama matakuliah",className:c("transition-all focus-visible:ring-primary",l.namamatakuliah?"border-red-500 focus-visible:ring-red-500":"")}),l.namamatakuliah&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-red-500"}),l.namamatakuliah]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"sks",className:"flex items-center gap-1.5",children:[e.jsx(_,{className:"h-4 w-4"}),"SKS"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{id:"sks",type:"number",min:"1",max:"6",value:m.sks,onChange:a=>{const u=parseInt(a.target.value);r("sks",a.target.value),isNaN(u)||d(u)},className:c("transition-all focus-visible:ring-primary w-24",l.sks?"border-red-500 focus-visible:ring-red-500":"")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-primary rounded-full transition-all",style:{width:`${Math.min(100,y/6*100)}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[e.jsx("span",{children:"1"}),e.jsx("span",{children:"2"}),e.jsx("span",{children:"3"}),e.jsx("span",{children:"4"}),e.jsx("span",{children:"5"}),e.jsx("span",{children:"6"})]})]})]}),l.sks&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-red-500"}),l.sks]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"semester",className:"flex items-center gap-1.5",children:[e.jsx(V,{className:"h-4 w-4"}),"Semester"]}),e.jsxs(D,{value:m.semester.toString(),onValueChange:a=>r("semester",a),children:[e.jsx(S,{className:c("transition-all focus-visible:ring-primary",l.semester?"border-red-500 focus-visible:ring-red-500":""),children:e.jsx(B,{placeholder:"Pilih Semester"})}),e.jsxs(F,{children:[e.jsxs(j,{value:"Ganjil",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500"}),"Ganjil"]}),e.jsxs(j,{value:"Genap",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"}),"Genap"]})]})]}),l.semester&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-red-500"}),l.semester]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>n(!1),className:"gap-1",children:"Batal"}),e.jsx(k,{type:"submit",disabled:h,className:"gap-1 min-w-24",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Memproses..."]}):e.jsx(e.Fragment,{children:s?"Perbarui":"Simpan"})})]})]})]})})}export{ee as default};
