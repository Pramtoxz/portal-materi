import{m as y,r as w,j as e,L as v}from"./app-BkehWb5B.js";import{c as x,a as m,B as u}from"./createLucideIcon-CMK3J6jR.js";import{I as d}from"./input-BI7jAChD.js";import{L as c}from"./label-B_HyvthM.js";import{S as C,a as D,b as U,c as M,d as p}from"./select-D3K6_BH7.js";import{D as F,a as L,b as E,c as _,d as B}from"./dialog-BKn4ydAj.js";import{U as g}from"./user-BCDVD3-5.js";import"./index-CRHGW8dO.js";import"./index-BdQq_4o_.js";import"./index-5y5CUZCM.js";import"./index-DcLOV-Uo.js";import"./index-CExDpRuP.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],j=x("AtSign",I);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],A=x("Key",P);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],S=x("UserCog",K);function Y({open:f,onOpenChange:o,user:s=null,onSuccess:i}){const{data:t,setData:r,post:N,put:b,processing:h,errors:a,reset:n}=y({name:"",username:"",email:"",password:"",role:""});w.useEffect(()=>{s?r({name:s.name||"",username:s.username||"",email:s.email||"",password:"",role:s.role||""}):n("name","username","email","password","role")},[s,r,n]);const k=l=>{l.preventDefault(),s?b(route("user.update",s.id),{onSuccess:()=>{o(!1),n(),i==null||i()}}):N(route("user.store"),{onSuccess:()=>{o(!1),n(),i==null||i()}})};return e.jsx(F,{open:f,onOpenChange:l=>{o(l),l||n()},children:e.jsxs(L,{className:"sm:max-w-[500px]",children:[e.jsx(v,{title:s?"Edit User":"Tambah User"}),e.jsxs(E,{className:"pb-4 border-b",children:[e.jsxs(_,{className:"flex items-center gap-2 text-xl font-semibold",children:[e.jsx(g,{className:"h-5 w-5 text-primary"}),s?"Edit User":"Tambah User Baru"]}),e.jsx(B,{className:"text-muted-foreground mt-1",children:s?"Perbarui informasi pengguna yang sudah ada":"Isi formulir untuk menambahkan pengguna baru ke sistem"})]}),e.jsxs("form",{onSubmit:k,className:"space-y-5 pt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"name",className:"flex items-center gap-1.5",children:[e.jsx(g,{className:"h-4 w-4"}),"Nama Lengkap"]}),e.jsx(d,{id:"name",type:"text",value:t.name,onChange:l=>r("name",l.target.value),placeholder:"Masukkan nama lengkap",className:m("transition-all focus-visible:ring-primary",a.name?"border-red-500 focus-visible:ring-red-500":"")}),a.name&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-red-500"}),a.name]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"username",className:"flex items-center gap-1.5",children:[e.jsx(j,{className:"h-4 w-4"}),"Username"]}),e.jsx(d,{id:"username",type:"text",value:t.username,onChange:l=>r("username",l.target.value),placeholder:"Masukkan username",className:m("transition-all focus-visible:ring-primary",a.username?"border-red-500 focus-visible:ring-red-500":"")}),a.username&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-red-500"}),a.username]}),!a.username&&e.jsx("p",{className:"text-muted-foreground text-xs",children:"Username unik untuk login ke sistem"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"email",className:"flex items-center gap-1.5",children:[e.jsx(j,{className:"h-4 w-4"}),"Email"]}),e.jsx(d,{id:"email",type:"email",value:t.email,onChange:l=>r("email",l.target.value),placeholder:"Masukkan alamat email",className:m("transition-all focus-visible:ring-primary",a.email?"border-red-500 focus-visible:ring-red-500":"")}),a.email&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-red-500"}),a.email]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"password",className:"flex items-center gap-1.5",children:[e.jsx(A,{className:"h-4 w-4"}),s?"Password (Kosongkan jika tidak ingin mengubah)":"Password"]}),e.jsx(d,{id:"password",type:"password",value:t.password,onChange:l=>r("password",l.target.value),placeholder:s?"Kosongkan jika tidak ingin mengubah":"Masukkan password",className:m("transition-all focus-visible:ring-primary",a.password?"border-red-500 focus-visible:ring-red-500":"")}),a.password&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-red-500"}),a.password]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"role",className:"flex items-center gap-1.5",children:[e.jsx(S,{className:"h-4 w-4"}),"Role"]}),e.jsxs(C,{value:t.role,onValueChange:l=>r("role",l),children:[e.jsx(D,{className:m("transition-all focus-visible:ring-primary",a.role?"border-red-500 focus-visible:ring-red-500":""),children:e.jsx(U,{placeholder:"Pilih Role"})}),e.jsxs(M,{children:[e.jsxs(p,{value:"dosen",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-red-500"}),"dosen"]}),e.jsxs(p,{value:"akademis",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500"}),"Akademis"]}),e.jsxs(p,{value:"mahasiswa",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"}),"Mahasiswa"]})]})]}),a.role&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-red-500"}),a.role]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[e.jsx(u,{type:"button",variant:"outline",onClick:()=>o(!1),className:"gap-1",children:"Batal"}),e.jsx(u,{type:"submit",disabled:h,className:"gap-1 min-w-24",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Memproses..."]}):e.jsx(e.Fragment,{children:s?"Perbarui":"Simpan"})})]})]})]})})}export{Y as default};
